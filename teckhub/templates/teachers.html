{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container-fluid p-0">
  <!-- Hero Section for Become a Tutor -->
  <div class="tutor-hero-section text-center py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 text-md-start">
          <h1 class="display-4 fw-bold text-white mb-4">Become a Tutor</h1>
          <p class="lead text-white mb-4">Share your knowledge, inspire others, and earn while teaching. Join our community of expert educators.</p>
          <div class="stats-container d-flex gap-4 mb-4">
            <div class="stat-item">
              <h3 class="text-purple">500+</h3>
              <p class="text-white">Active Students</p>
            </div>
            <div class="stat-item">
              <h3 class="text-purple">50+</h3>
              <p class="text-white">Expert Tutors</p>
            </div>
            <div class="stat-item">
              <h3 class="text-purple">100+</h3>
              <p class="text-white">Courses</p>
            </div>
          </div>
          <a href="{% url 'become_tutor' %}" class="btn btn-purple btn-lg">Start Teaching Today</a>
        </div>
        <div class="col-md-6 d-none d-md-block text-center">
          <div class="hero-icon-container">
            <i class="bi bi-person-video3 hero-icon"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search and Teacher List Section -->
  <div class="container my-5">
    <div class="row mb-4">
      <div class="col-md-6">
        <h3 class="mb-0">Our Expert Teachers</h3>
        <p class="text-muted">Learn from the best in the industry</p>
      </div>
      <div class="col-md-6">
        <div class="search-box">
          <i class="bi bi-search search-icon"></i>
          <input type="text" id="searchBox" class="form-control form-control-lg" placeholder="Search tutors...">
        </div>
      </div>
    </div>

    <div class="row g-4">
      {% for teacher in teachers %}
      <div class="col-md-4 mb-4 teacher-card">
        <div class="card h-100 teacher-profile-card">
          <div class="card-body text-center">
            <div class="teacher-image-wrapper mb-3">
              <img src="{% if teacher.profile.image %}{{ teacher.profile.image.url }}{% else %}{% static 'images/avatar.png' %}{% endif %}" 
                   alt="{{ teacher.username }}" class="rounded-circle">
            </div>
            <h5 class="card-title mb-1">{{ teacher.username }}</h5>
            <p class="text-muted small mb-3">{{ teacher.profile.role }}</p>
            <div class="stats-row">
              <div class="stat-item">
                <i class="bi bi-collection-play text-purple"></i>
                <span>{{ teacher.total_courses }} courses</span>
              </div>
              <div class="stat-item">
                <i class="bi bi-play-circle text-purple"></i>
                <span>{{ teacher.total_videos }} videos</span>
              </div>
              <div class="stat-item">
                <i class="bi bi-heart text-purple"></i>
                <span>{{ teacher.total_likes }} likes</span>
              </div>
            </div>
            <a href="{% url 'teacher_profile' teacher.id %}" class="btn btn-purple mt-3 w-100">View Profile</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .tutor-hero-section {
    background: linear-gradient(135deg, rgba(123, 44, 191, 0.9), rgba(0, 0, 0, 0.8));
    padding: 100px 0;
    position: relative;
    overflow: hidden;
  }

  .tutor-hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }

  .hero-icon-container {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    width: 300px;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    border: 2px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  .hero-icon {
    font-size: 120px;
    color: white;
    opacity: 0.9;
  }

  .text-purple { 
    color: #7b2cbf; 
  }

  .btn-purple {
    background-color: #7b2cbf;
    color: white;
    border: none;
    padding: 10px 25px;
    transition: all 0.3s ease;
  }

  .btn-purple:hover {
    background-color: #5a189a;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(123, 44, 191, 0.3);
  }

  .teacher-profile-card {
    border: none;
    border-radius: 15px;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
  }

  .teacher-profile-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
  }

  .teacher-image-wrapper {
    width: 120px;
    height: 120px;
    margin: 0 auto;
    position: relative;
  }

  .teacher-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border: 3px solid #7b2cbf;
    padding: 3px;
  }

  .stats-row {
    display: flex;
    justify-content: space-around;
    margin: 20px 0;
    padding: 10px 0;
    border-top: 1px solid #eee;
    border-bottom: 1px solid #eee;
  }

  .stat-item {
    text-align: center;
  }

  .stat-item i {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 5px;
  }

  .search-box {
    position: relative;
  }

  .search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #7b2cbf;
  }

  #searchBox {
    padding-left: 45px;
    border-radius: 25px;
    border: 2px solid #eee;
  }

  #searchBox:focus {
    border-color: #7b2cbf;
    box-shadow: none;
  }

  @media (max-width: 768px) {
    .tutor-hero-section {
      padding: 50px 0;
    }
    
    .stats-container {
      flex-direction: column;
      gap: 20px;
    }

    .hero-icon-container {
      width: 200px;
      height: 200px;
      margin-top: 30px;
    }

    .hero-icon {
      font-size: 80px;
    }
  }
</style>

<script>
  document.getElementById("searchBox").addEventListener("keyup", function() {
    const search = this.value.toLowerCase();
    document.querySelectorAll(".teacher-card").forEach(card => {
      card.style.display = card.textContent.toLowerCase().includes(search) ? "block" : "none";
    });
  });
</script>

{% endblock %}
